---
import NavMobile from "@components/navigation/NavMobile.vue";
import { Icon } from "astro-icon/components";
import ColorSwitch from "@components/common/ColorSwitch.vue";

import { t } from "@util/translate";

const { menu, title, social, color, cta } = Astro.props;
const currentPath = Astro.url.pathname.split("/")[1];

const isActive = (href) => {
  if (currentPath === "" && href == "/") return true;
  if (currentPath !== "" && href.startsWith(`/${currentPath}`)) return true;
};
---

<header
  class={`nav fixed inset-x-0 top-0 z-50 nav-${color}`}
  transition:name="nav"
>
<nav
  class="container-xl flex h-20 md:h-28 items-center justify-between gap-6 transition-all duration-300"
>
  <!-- Logo -->
  <a href="/" aria-label={title} class="flex items-center">
    <Icon name="logo" class="h-6" />
  </a>

  <!-- CTA sempre visÃ­vel -->
  {cta && cta.length > 0 && (
    <div class="flex ml-auto">
      {cta.map((link) => (
        <a
          href={link.href}
          class="btn btn-md btn-ghost px-3 py-1 text-sm"
          data-replace={link.label}
        >
           <Icon name="heroicons:shopping-bag" class="h-5 w-5" /> 
          <span>{link.label}</span>
        </a>
      ))}
    </div>
  )}
</nav>
  <style>
    .nav {
      /*  will-change: opacity, transform; */

      &__grid {
        @screen md {
          @apply grid;
          grid-template-columns: 1fr auto 1fr;
        }
      }
    }
    .btn-ghost {
      @apply border-2 border-current;
    }
  </style>
</header>
